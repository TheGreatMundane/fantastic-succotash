<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Symbol Shuffle</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: white;
    }

    #container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: white;
    }

    #scramble-box {
      width: 100%;
      height: 150px;
      background-color: black;
      color: white;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
    }

    #scramble {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 100%;
      margin: 0;
      padding: 0;
      word-wrap: normal;
    }

    .symbol {
      display: inline-block;
      text-align: center;
      font-family: monospace;
      flex-grow: 1;
      padding: 0 5px;
      font-size: calc(1em + 1vw);
    }

    #text-display {
      font-size: 1.5em;
      font-family: monospace;
      color: black;
      padding-left: 20px;
      padding-top: 10px;
      margin-top: 180px;
      line-height: 1.8em;
    }

    #video-container {
      margin-top: 40px;
      padding-left: 20px;
    }

    iframe {
      width: 560px;
      height: 315px;
      border: none;
    }
  </style>
</head>
<body>

  <div id="scramble-box" aria-hidden="true">
    <p id="scramble"></p>
  </div>

  <div id="text-display" role="heading" aria-level="1">
    The Great Mundane<br><br>
    hello world<br><br>
    hyperlink <a href="https://www.google.com" target="_blank">one</a><br>
    hyperlink <a href="https://www.google.com" target="_blank">two</a>
  </div>

  <div id="video-container">
    <iframe src="https://www.youtube.com/embed/ZapOy3eH3yE?si=k0zabNcTzUO2WvDC" allowfullscreen></iframe>
  </div>

  <script>
    const element = document.getElementById("scramble");

    const symbols = "⚛ ♘ ⛇ ☛ ☏ ✿ ⏏ ❦ ☢ ⛗ ☠ ⚄ ⏲ ☘ ⛈ ☯ ♛ ♤ ＄ ⌫ 𝄞 ✯ ⚿ ⛾ ⚒ ♁";
    const phrase = "THE GREAT MUNDANE";

    const symbolArray = symbols.split(" ");
    const revealed = new Array(symbolArray.length).fill("");

    let currentLetterIndex = 0;
    let isRevealing = true;
    let isUnrevealPhase = false;

    function shuffleSymbols() {
      const shuffledSymbols = [...symbolArray];
      for (let i = shuffledSymbols.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffledSymbols[i], shuffledSymbols[j]] = [shuffledSymbols[j], shuffledSymbols[i]];
      }

      if (isRevealing && currentLetterIndex < phrase.length) {
        if (phrase[currentLetterIndex] !== " ") {
          revealed[currentLetterIndex] = phrase[currentLetterIndex];
        }
        currentLetterIndex++;

        if (currentLetterIndex >= phrase.length) {
          isRevealing = false;
          setTimeout(() => {
            isUnrevealPhase = true;
            unrevealLetters();
          }, 500);
        }
      }

      const finalSymbols = shuffledSymbols.slice(0, 17).map((symbol, index) => {
        return `<span class="symbol">${revealed[index] || symbol}</span>`;
      }).join("");

      element.innerHTML = finalSymbols;
    }

    function unrevealLetters() {
      const unrevealableIndices = revealed
        .map((char, index) => (char !== "" ? index : null))
        .filter(index => index !== null);

      if (unrevealableIndices.length === 0) {
        reset();
        return;
      }

      const randomIndex = unrevealableIndices[Math.floor(Math.random() * unrevealableIndices.length)];
      revealed[randomIndex] = "";

      setTimeout(unrevealLetters, 500);
    }

    function reset() {
      currentLetterIndex = 0;
      revealed.fill("");
      isRevealing = true;
      isUnrevealPhase = false;
    }

    setInterval(shuffleSymbols, 500);
  </script>

</body>
</html>



